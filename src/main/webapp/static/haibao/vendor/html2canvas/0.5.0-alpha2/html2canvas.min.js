!function(b){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;"undefined"!=typeof window?a=window:"undefined"!=typeof global?a=global:"undefined"!=typeof self&&(a=self),a.html2canvas=b()}}}(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(f,g,e){(function(i,h){
(function(){function ac(av){return typeof av==="function"||(typeof av==="object"&&av!==null)}function B(av){return typeof av==="function"}function at(av){return typeof av==="object"&&av!==null}var ap;if(!Array.isArray){ap=function(av){return Object.prototype.toString.call(av)==="[object Array]"}}else{ap=Array.isArray}var U=ap;var G=Date.now||function(){return new Date().getTime()};function J(){}var o=(Object.create||function(av){if(arguments.length>1){throw new Error("Second argument not supported")}if(typeof av!=="object"){throw new TypeError("Argument must be an object")}J.prototype=av;return new J()});var an=0;var x=function aa(aw,av){am[an]=aw;am[an+1]=av;an+=2;if(an===2){l()}};var T=(typeof window!=="undefined")?window:{};var E=T.MutationObserver||T.WebKitMutationObserver;var w=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function X(){return function(){i.nextTick(ao)}}function ai(){var ax=0;var av=new E(ao);var aw=document.createTextNode("");av.observe(aw,{characterData:true});return function(){aw.data=(ax=++ax%2)}}function Y(){var av=new MessageChannel();av.port1.onmessage=ao;return function(){av.port2.postMessage(0)}}function ae(){return function(){setTimeout(ao,1)}}var am=new Array(1000);function ao(){for(var aw=0;aw<an;aw+=2){var ax=am[aw];var av=am[aw+1];ax(av);am[aw]=undefined;am[aw+1]=undefined}an=0}var l;if(typeof i!=="undefined"&&{}.toString.call(i)==="[object process]"){l=X()}else{if(E){l=ai()}else{if(w){l=Y()}else{l=ae()}}}function z(){}var K=void 0;var af=1;var L=2;var al=new ar();function aj(){return new TypeError("You cannot resolve a promise with itself")}function S(){return new TypeError("A promises callback cannot return that same promise.")}function ab(aw){try{return aw.then}catch(av){al.error=av;return al}}function n(az,ax,aw,av){try{az.call(ax,aw,av)}catch(ay){return ay}}function ad(ax,av,aw){x(function(aA){var az=false;var ay=n(aw,av,function(aB){if(az){return}az=true;if(av!==aB){u(aA,aB)}else{t(aA,aB)}},function(aB){if(az){return}az=true;R(aA,aB)},"Settle: "+(aA._label||" unknown promise"));if(!az&&ay){az=true;R(aA,ay)}},ax)}function p(aw,av){if(av._state===af){t(aw,av._result)}else{if(aw._state===L){R(aw,av._result)}else{au(av,undefined,function(ax){u(aw,ax)},function(ax){R(aw,ax)})}}}function q(ax,av){if(av.constructor===ax.constructor){p(ax,av)}else{var aw=ab(av);if(aw===al){R(ax,al.error)}else{if(aw===undefined){t(ax,av)}else{if(B(aw)){ad(ax,av,aw)}else{t(ax,av)}}}}}function u(aw,av){if(aw===av){R(aw,aj())}else{if(ac(av)){q(aw,av)}else{t(aw,av)}}}function W(av){if(av._onerror){av._onerror(av._result)}s(av)}function t(aw,av){if(aw._state!==K){return}aw._result=av;aw._state=af;if(aw._subscribers.length===0){}else{x(s,aw)}}function R(aw,av){if(aw._state!==K){return}aw._state=L;aw._result=av;x(W,aw)}function au(av,aA,az,ay){var ax=av._subscribers;var aw=ax.length;av._onerror=null;ax[aw]=aA;ax[aw+af]=az;ax[aw+L]=ay;if(aw===0&&av._state){x(s,av)}}function s(az){var ay=az._subscribers;var av=az._state;if(ay.length===0){return}var aB,aA,ax=az._result;for(var aw=0;aw<ay.length;aw+=3){aB=ay[aw];aA=ay[aw+av];if(aB){ah(av,aB,aA,ax)}else{aA(ax)}}az._subscribers.length=0}function ar(){this.error=null}var A=new ar();function Q(ax,av){try{return ax(av)}catch(aw){A.error=aw;return A}}function ah(aB,aD,aA,ax){var av=B(aA),az,ay,aC,aw;if(av){az=Q(aA,ax);if(az===A){aw=true;ay=az.error;az=null}else{aC=true}if(aD===az){R(aD,S());return}}else{az=ax;aC=true}if(aD._state!==K){}else{if(av&&aC){u(aD,az)}else{if(aw){R(aD,ay)}else{if(aB===af){t(aD,az)}else{if(aB===L){R(aD,az)}}}}}}function r(az,ay){try{ay(function av(aA){u(az,aA)},function ax(aA){R(az,aA)})}catch(aw){R(az,aw)}}function aq(ax,av,aw){if(ax===af){return{state:"fulfilled",value:aw}}else{return{state:"rejected",reason:aw}}}function ak(ax,av,ay,aw){this._instanceConstructor=ax;this.promise=new ax(z,aw);this._abortOnReject=ay;if(this._validateInput(av)){this._input=av;this.length=av.length;this._remaining=av.length;this._init();if(this.length===0){t(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){t(this.promise,this._result)}}}else{R(this.promise,this._validationError())}}ak.prototype._validateInput=function(av){return U(av)};ak.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};ak.prototype._init=function(){this._result=new Array(this.length)};var V=ak;ak.prototype._enumerate=function(){var ax=this.length;var ay=this.promise;var av=this._input;for(var aw=0;ay._state===K&&aw<ax;aw++){this._eachEntry(av[aw],aw)}};ak.prototype._eachEntry=function(aw,av){var ax=this._instanceConstructor;if(at(aw)){if(aw.constructor===ax&&aw._state!==K){aw._onerror=null;this._settledAt(aw._state,av,aw._result)}else{this._willSettleAt(ax.resolve(aw),av)}}else{this._remaining--;this._result[av]=this._makeResult(af,av,aw)}};ak.prototype._settledAt=function(ax,av,aw){var ay=this.promise;if(ay._state===K){this._remaining--;if(this._abortOnReject&&ax===L){R(ay,aw)}else{this._result[av]=this._makeResult(ax,av,aw)}}if(this._remaining===0){t(ay,this._result)}};ak.prototype._makeResult=function(ax,av,aw){return aw};ak.prototype._willSettleAt=function(aw,av){var ax=this;au(aw,undefined,function(ay){ax._settledAt(af,av,ay)},function(ay){ax._settledAt(L,av,ay)})};var H=function F(av,aw){return new V(this,av,true,aw).promise};var M=function v(av,aw){var aC=this;var aB=new aC(z,aw);if(!U(av)){R(aB,new TypeError("You must pass an array to race."));return aB}var ay=av.length;function aA(aD){u(aB,aD)}function az(aD){R(aB,aD)}for(var ax=0;aB._state===K&&ax<ay;ax++){au(aC.resolve(av[ax]),undefined,aA,az)}return aB};var D=function I(aw,av){var ay=this;if(aw&&typeof aw==="object"&&aw.constructor===ay){return aw}var ax=new ay(z,av);u(ax,aw);return ax};var k=function O(aw,av){var ay=this;var ax=new ay(z,av);R(ax,aw);return ax};var P=0;function ag(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function y(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Z=m;function m(av){this._id=P++;this._state=undefined;this._result=undefined;this._subscribers=[];if(z!==av){if(!B(av)){ag()}if(!(this instanceof m)){y()}r(this,av)}}m.all=H;m.race=M;m.resolve=D;m.reject=k;m.prototype={constructor:m,then:function(az,ay){var aw=this;var ax=aw._state;if(ax===af&&!az||ax===L&&!ay){return this}var aB=new this.constructor(z);var av=aw._result;if(ax){var aA=arguments[ax-1];x(function(){ah(ax,aB,aA,av)})}else{au(aw,aB,az,ay)}return aB},"catch":function(av){return this.then(null,av)}};var C=function j(){var aw;if(typeof h!=="undefined"){aw=h}else{if(typeof window!=="undefined"&&window.document){aw=window}else{aw=self}}var av="Promise" in aw&&"resolve" in aw.Promise&&"reject" in aw.Promise&&"all" in aw.Promise&&"race" in aw.Promise&&(function(){var ax;new aw.Promise(function(ay){ax=ay});return B(ax)}());if(!av){aw.Promise=Z}};var N={"Promise":Z,"polyfill":C};if(typeof d==="function"&&d["amd"]){d(function(){return N})}else{if(typeof g!=="undefined"&&g["exports"]){g["exports"]=N}else{if(typeof this!=="undefined"){this["ES6Promise"]=N}}}}).call(this)}).call(this,f("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"_process":2}],2:[function(g,h,f){var k=h.exports={};var e=[];var l=false;function j(){if(l){return}l=true;var o;var m=e.length;while(m){o=e;e=[];var n=-1;while(++n<m){o[n]()}m=e.length}l=false}k.nextTick=function(m){e.push(m);if(!l){setTimeout(j,0)}};k.title="browser";k.browser=true;k.env={};k.argv=[];k.version="";function i(){}k.on=i;k.addListener=i;k.once=i;k.off=i;k.removeListener=i;k.removeAllListeners=i;k.emit=i;k.binding=function(m){throw new Error("process.binding is not supported")};k.cwd=function(){return"/"};k.chdir=function(m){throw new Error("process.chdir is not supported")};k.umask=function(){return 0}},{}],3:[function(f,g,e){(function(h){
/*! http://mths.be/punycode v1.2.4 by @mathias */
(function(H){var x=typeof e=="object"&&e;var P=typeof g=="object"&&g&&g.exports==x&&g;var G=typeof h=="object"&&h;if(G.global===G||G.window===G){H=G}var m,A=2147483647,t=36,v=1,y=26,q=38,u=700,w=72,p=128,N="-",D=/^xn--/,l=/[^ -~]/,i=/\x2E|\u3002|\uFF0E|\uFF61/g,z={"overflow":"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},o=t-v,J=Math.floor,F=String.fromCharCode,O;function I(Q){throw RangeError(z[Q])}function L(S,Q){var R=S.length;while(R--){S[R]=Q(S[R])}return S}function k(Q,R){return L(Q.split(i),R).join(".")}function s(T){var S=[],R=0,U=T.length,V,Q;while(R<U){V=T.charCodeAt(R++);if(V>=55296&&V<=56319&&R<U){Q=T.charCodeAt(R++);if((Q&64512)==56320){S.push(((V&1023)<<10)+(Q&1023)+65536)}else{S.push(V);R--}}else{S.push(V)}}return S}function K(Q){return L(Q,function(S){var R="";if(S>65535){S-=65536;R+=F(S>>>10&1023|55296);S=56320|S&1023}R+=F(S);return R}).join("")}function n(Q){if(Q-48<10){return Q-22}if(Q-65<26){return Q-65}if(Q-97<26){return Q-97}return t}function E(R,Q){return R+22+75*(R<26)-((Q!=0)<<5)}function j(T,R,S){var Q=0;T=S?J(T/u):T>>1;T+=J(T/R);for(;T>o*y>>1;Q+=t){T=J(T/o)}return J(Q+(o+1)*T/(T+q))}function C(ac){var S=[],V=ac.length,X,Y=0,R=p,Z=w,U,W,aa,Q,ad,T,ab,af,ae;U=ac.lastIndexOf(N);if(U<0){U=0}for(W=0;W<U;++W){if(ac.charCodeAt(W)>=128){I("not-basic")}S.push(ac.charCodeAt(W))}for(aa=U>0?U+1:0;aa<V;){for(Q=Y,ad=1,T=t;;T+=t){if(aa>=V){I("invalid-input")}ab=n(ac.charCodeAt(aa++));if(ab>=t||ab>J((A-Y)/ad)){I("overflow")}Y+=ab*ad;af=T<=Z?v:(T>=Z+y?y:T-Z);if(ab<af){break}ae=t-af;if(ad>J(A/ae)){I("overflow")}ad*=ae}X=S.length+1;Z=j(Y-Q,X,Q==0);if(J(Y/X)>A-R){I("overflow")}R+=J(Y/X);Y%=X;S.splice(Y++,0,R)}return K(S)}function r(ac){var T,ae,Z,R,aa,Y,U,Q,X,ag,ad,S=[],W,V,af,ab;ac=s(ac);W=ac.length;T=p;ae=0;aa=w;for(Y=0;Y<W;++Y){ad=ac[Y];if(ad<128){S.push(F(ad))}}Z=R=S.length;if(R){S.push(N)}while(Z<W){for(U=A,Y=0;Y<W;++Y){ad=ac[Y];if(ad>=T&&ad<U){U=ad}}V=Z+1;if(U-T>J((A-ae)/V)){I("overflow")}ae+=(U-T)*V;T=U;for(Y=0;Y<W;++Y){ad=ac[Y];if(ad<T&&++ae>A){I("overflow")}if(ad==T){for(Q=ae,X=t;;X+=t){ag=X<=aa?v:(X>=aa+y?y:X-aa);if(Q<ag){break}ab=Q-ag;af=t-ag;S.push(F(E(ag+ab%af,0)));Q=J(ab/af)}S.push(F(E(Q,0)));aa=j(ae,V,Z==R);ae=0;++Z}}++ae;++T}return S.join("")}function B(Q){return k(Q,function(R){return D.test(R)?C(R.slice(4).toLowerCase()):R})}function M(Q){return k(Q,function(R){return l.test(R)?"xn--"+r(R):R})}m={"version":"1.2.4","ucs2":{"decode":s,"encode":K},"decode":C,"encode":r,"toASCII":M,"toUnicode":B};if(typeof d=="function"&&typeof d.amd=="object"&&d.amd){d("punycode",function(){return m})}else{if(x&&!x.nodeType){if(P){P.exports=m}else{for(O in m){m.hasOwnProperty(O)&&(x[O]=m[O])}}}else{H.punycode=m}}}(this))}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],4:[function(i,f,k){var j=i("./log");var m=i("./promise");function e(o,n,p){if(o.defaultView&&(n!==o.defaultView.pageXOffset||p!==o.defaultView.pageYOffset)){o.defaultView.scrollTo(n,p)}}function h(n,o){try{if(o){o.width=n.width;o.height=n.height;o.getContext("2d").putImageData(n.getContext("2d").getImageData(0,0,n.width,n.height),0,0)}}catch(p){j("Unable to copy canvas content from",n,p)}}function g(o,n){var q=o.nodeType===3?document.createTextNode(o.nodeValue):o.cloneNode(false);var p=o.firstChild;while(p){if(n===true||p.nodeType!==1||p.nodeName!=="SCRIPT"){q.appendChild(g(p,n))}p=p.nextSibling}if(o.nodeType===1){q._scrollTop=o.scrollTop;q._scrollLeft=o.scrollLeft;if(o.nodeName==="CANVAS"){h(o,q)}else{if(o.nodeName==="TEXTAREA"||o.nodeName==="SELECT"){q.value=o.value}}}return q}function l(n){if(n.nodeType===1){n.scrollTop=n._scrollTop;n.scrollLeft=n._scrollLeft;var o=n.firstChild;while(o){l(o);o=o.nextSibling}}}f.exports=function(u,s,o,t,v,q,p){var r=g(u.documentElement,v.javascriptEnabled);var n=s.createElement("iframe");n.className="html2canvas-container";n.style.visibility="hidden";n.style.position="fixed";n.style.left="-10000px";n.style.top="0px";n.style.border="0";n.width=o;n.height=t;n.scrolling="no";s.body.appendChild(n);return new m(function(x){var w=n.contentWindow.document;n.contentWindow.onload=n.onload=function(){var y=setInterval(function(){if(w.body.childNodes.length>0){l(w.documentElement);clearInterval(y);if(v.type==="view"){n.contentWindow.scrollTo(q,p);if((/(iPad|iPhone|iPod)/g).test(navigator.userAgent)&&(n.contentWindow.scrollY!==p||n.contentWindow.scrollX!==q)){w.documentElement.style.top=(-p)+"px";w.documentElement.style.left=(-q)+"px";w.documentElement.style.position="absolute"}}x(n)}},50)};w.open();w.write("<!DOCTYPE html><html></html>");e(u,q,p);w.replaceChild(w.adoptNode(r),w.documentElement);w.close()})}},{"./log":15,"./promise":18}],5:[function(i,h,j){function g(o){this.r=0;this.g=0;this.b=0;this.a=null;var n=this.fromArray(o)||this.namedColor(o)||this.rgb(o)||this.rgba(o)||this.hex6(o)||this.hex3(o)}g.prototype.darken=function(o){var n=1-o;return new g([Math.round(this.r*n),Math.round(this.g*n),Math.round(this.b*n),this.a])};g.prototype.isTransparent=function(){return this.a===0};g.prototype.isBlack=function(){return this.r===0&&this.g===0&&this.b===0};g.prototype.fromArray=function(n){if(Array.isArray(n)){this.r=Math.min(n[0],255);this.g=Math.min(n[1],255);this.b=Math.min(n[2],255);if(n.length>3){this.a=n[3]}}return(Array.isArray(n))};var l=/^#([a-f0-9]{3})$/i;g.prototype.hex3=function(o){var n=null;if((n=o.match(l))!==null){this.r=parseInt(n[1][0]+n[1][0],16);this.g=parseInt(n[1][1]+n[1][1],16);this.b=parseInt(n[1][2]+n[1][2],16)}return n!==null};var k=/^#([a-f0-9]{6})$/i;g.prototype.hex6=function(o){var n=null;if((n=o.match(k))!==null){this.r=parseInt(n[1].substring(0,2),16);this.g=parseInt(n[1].substring(2,4),16);this.b=parseInt(n[1].substring(4,6),16)}return n!==null};var m=/^rgb\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3})\)$/;g.prototype.rgb=function(o){var n=null;if((n=o.match(m))!==null){this.r=Number(n[1]);this.g=Number(n[2]);this.b=Number(n[3])}return n!==null};var f=/^rgba\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3}) *, *(\d+\.?\d*)\)$/;g.prototype.rgba=function(o){var n=null;if((n=o.match(f))!==null){this.r=Number(n[1]);this.g=Number(n[2]);this.b=Number(n[3]);this.a=Number(n[4])}return n!==null};g.prototype.toString=function(){return this.a!==null&&this.a!==1?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"};g.prototype.namedColor=function(o){var n=e[o.toLowerCase()];if(n){this.r=n[0];this.g=n[1];this.b=n[2]}else{if(o.toLowerCase()==="transparent"){this.r=this.g=this.b=this.a=0;return true}}return !!n};g.prototype.isColor=true;var e={"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aqua":[0,255,255],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"black":[0,0,0],"blanchedalmond":[255,235,205],"blue":[0,0,255],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"fuchsia":[255,0,255],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"gray":[128,128,128],"green":[0,128,0],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"lime":[0,255,0],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"maroon":[128,0,0],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"navy":[0,0,128],"oldlace":[253,245,230],"olive":[128,128,0],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"purple":[128,0,128],"rebeccapurple":[102,51,153],"red":[255,0,0],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"silver":[192,192,192],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"teal":[0,128,128],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"white":[255,255,255],"whitesmoke":[245,245,245],"yellow":[255,255,0],"yellowgreen":[154,205,50]};h.exports=g},{}],6:[function(q,e,B){var h=q("./promise");var v=q("./support");var u=q("./renderers/canvas");var r=q("./imageloader");var m=q("./nodeparser");var g=q("./nodecontainer");var n=q("./log");var A=q("./utils");var y=q("./clone");var k=q("./proxy").loadUrlDocument;var l=A.getBounds;var o="data-html2canvas-node";var p=0;function z(F,E){var D=p++;
E=E||{};if(E.logging){window.html2canvas.logging=true;window.html2canvas.start=Date.now()}E.async=typeof(E.async)==="undefined"?true:E.async;E.allowTaint=typeof(E.allowTaint)==="undefined"?false:E.allowTaint;E.removeContainer=typeof(E.removeContainer)==="undefined"?true:E.removeContainer;E.javascriptEnabled=typeof(E.javascriptEnabled)==="undefined"?false:E.javascriptEnabled;E.imageTimeout=typeof(E.imageTimeout)==="undefined"?10000:E.imageTimeout;E.renderer=typeof(E.renderer)==="function"?E.renderer:u;E.strict=!!E.strict;if(typeof(F)==="string"){if(typeof(E.proxy)!=="string"){return h.reject("Proxy must be used when rendering url")}var G=E.width!=null?E.width:window.innerWidth;var C=E.height!=null?E.height:window.innerHeight;return k(w(F),E.proxy,document,G,C,E).then(function(I){return t(I.contentWindow.document.documentElement,I,E,G,C)})}var H=((F===undefined)?[document.documentElement]:((F.length)?F:[F]))[0];H.setAttribute(o+D,D);return f(H.ownerDocument,E,E.innerWidth||H.ownerDocument.defaultView.innerWidth,E.innerHeight||H.ownerDocument.defaultView.innerHeight,D).then(function(I){if(typeof(E.onrendered)==="function"){n("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas");E.onrendered(I)}return I})}z.Promise=h;z.CanvasRenderer=u;z.NodeContainer=g;z.log=n;z.utils=A;e.exports=(typeof(document)==="undefined"||typeof(Object.create)!=="function"||typeof(document.createElement("canvas").getContext)!=="function")?function(){return h.reject("No canvas support")}:z;function f(D,E,F,G,C){return y(D,D,F,G,E,D.defaultView.pageXOffset,D.defaultView.pageYOffset).then(function(I){n("Document cloned");var J=o+C;var H="["+J+"='"+C+"']";D.querySelector(H).removeAttribute(J);var M=I.contentWindow;var L=M.document.querySelector(H);var K=(typeof(E.onclone)==="function")?h.resolve(E.onclone(M.document)):h.resolve(true);return K.then(function(){return t(L,I,E,F,G)})})}function t(I,F,O,H,D){var K=F.contentWindow;var M=new v(K.document);var J=new r(O,M);var C=l(I);var G=O.type==="view"?H:i(K.document);var N=O.type==="view"?D:s(K.document);var L=new O.renderer(G,N,J,O,document);var E=new m(I,L,M,J,O);return E.ready.then(function(){n("Finished rendering");var P;if(O.type==="view"){P=j(L.canvas,{width:L.canvas.width,height:L.canvas.height,top:0,left:0,x:0,y:0})}else{if(I===K.document.body||I===K.document.documentElement||O.canvas!=null){P=L.canvas}else{P=j(L.canvas,{width:O.width!=null?O.width:C.width,height:O.height!=null?O.height:C.height,top:C.top,left:C.left,x:K.pageXOffset,y:K.pageYOffset})}}x(F,O);return P})}function x(C,D){if(D.removeContainer){C.parentNode.removeChild(C);n("Cleaned up container")}}function j(E,I){var H=document.createElement("canvas");var D=Math.min(E.width-1,Math.max(0,I.left));var C=Math.min(E.width,Math.max(1,I.left+I.width));var G=Math.min(E.height-1,Math.max(0,I.top));var F=Math.min(E.height,Math.max(1,I.top+I.height));H.width=I.width;H.height=I.height;n("Cropping canvas at:","left:",I.left,"top:",I.top,"width:",(C-D),"height:",(F-G));n("Resulting crop with width",I.width,"and height",I.height," with x",D,"and y",G);H.getContext("2d").drawImage(E,D,G,C-D,F-G,I.x,I.y,C-D,F-G);return H}function i(C){return Math.max(Math.max(C.body.scrollWidth,C.documentElement.scrollWidth),Math.max(C.body.offsetWidth,C.documentElement.offsetWidth),Math.max(C.body.clientWidth,C.documentElement.clientWidth))}function s(C){return Math.max(Math.max(C.body.scrollHeight,C.documentElement.scrollHeight),Math.max(C.body.offsetHeight,C.documentElement.offsetHeight),Math.max(C.body.clientHeight,C.documentElement.clientHeight))}function w(C){var D=document.createElement("a");D.href=C;D.href=D.href;return D}},{"./clone":4,"./imageloader":13,"./log":15,"./nodecontainer":16,"./nodeparser":17,"./promise":18,"./proxy":19,"./renderers/canvas":23,"./support":25,"./utils":29}],7:[function(f,g,e){var i=f("./promise");var h=f("./log");var j=f("./utils").smallImage;function k(m){this.src=m;h("DummyImageContainer for",m);if(!this.promise||!this.image){h("Initiating DummyImageContainer");k.prototype.image=new Image();var l=this.image;k.prototype.promise=new i(function(o,n){l.onload=o;l.onerror=n;l.src=j();if(l.complete===true){o(l)}})}}g.exports=k},{"./log":15,"./promise":18,"./utils":29}],8:[function(f,g,e){var h=f("./utils").smallImage;function i(o,m){var j=document.createElement("div"),k=document.createElement("img"),n=document.createElement("span"),q="Hidden Text",p,l;j.style.visibility="hidden";j.style.fontFamily=o;j.style.fontSize=m;j.style.margin=0;j.style.padding=0;document.body.appendChild(j);k.src=h();k.width=1;k.height=1;k.style.margin=0;k.style.padding=0;k.style.verticalAlign="baseline";n.style.fontFamily=o;n.style.fontSize=m;n.style.margin=0;n.style.padding=0;n.appendChild(document.createTextNode(q));j.appendChild(n);j.appendChild(k);p=(k.offsetTop-n.offsetTop)+1;j.removeChild(n);j.appendChild(document.createTextNode(q));j.style.lineHeight="normal";k.style.verticalAlign="super";l=(k.offsetTop-j.offsetTop)+1;document.body.removeChild(j);this.baseline=p;this.lineWidth=1;this.middle=l}g.exports=i},{"./utils":29}],9:[function(f,g,e){var i=f("./font");function h(){this.data={}}h.prototype.getMetrics=function(k,j){if(this.data[k+"-"+j]===undefined){this.data[k+"-"+j]=new i(k,j)}return this.data[k+"-"+j]};g.exports=h},{"./font":8}],10:[function(h,j,f){var e=h("./utils");var k=h("./promise");var i=e.getBounds;var g=h("./proxy").loadUrlDocument;function l(m,q,o){this.image=null;this.src=m;var n=this;var p=i(m);this.promise=(!q?this.proxyLoad(o.proxy,p,o):new k(function(r){if(m.contentWindow.document.URL==="about:blank"||m.contentWindow.document.documentElement==null){m.contentWindow.onload=m.onload=function(){r(m)}}else{r(m)}})).then(function(r){var s=h("./core");return s(r.contentWindow.document.documentElement,{type:"view",width:r.width,height:r.height,proxy:o.proxy,javascriptEnabled:o.javascriptEnabled,removeContainer:o.removeContainer,allowTaint:o.allowTaint,imageTimeout:o.imageTimeout/2})}).then(function(r){return n.image=r})}l.prototype.proxyLoad=function(o,p,n){var m=this.src;return g(m.src,o,m.ownerDocument,p.width,p.height,n)};j.exports=l},{"./core":6,"./promise":18,"./proxy":19,"./utils":29}],11:[function(f,g,e){var i=f("./promise");function h(j){this.src=j.value;this.colorStops=[];this.type=null;this.x0=0.5;this.y0=0.5;this.x1=0.5;this.y1=0.5;this.promise=i.resolve(true)}h.prototype.TYPES={LINEAR:1,RADIAL:2};g.exports=h},{"./promise":18}],12:[function(f,g,e){var h=f("./promise");function i(l,k){this.src=l;this.image=new Image();var j=this;this.tainted=null;this.promise=new h(function(n,m){j.image.onload=n;j.image.onerror=m;if(k){j.image.crossOrigin="anonymous"}j.image.src=l;if(j.image.complete===true){n(j.image)}})}g.exports=i},{"./promise":18}],13:[function(h,f,j){var o=h("./promise");var i=h("./log");var p=h("./imagecontainer");var n=h("./dummyimagecontainer");var e=h("./proxyimagecontainer");var g=h("./framecontainer");var l=h("./svgcontainer");var s=h("./svgnodecontainer");var r=h("./lineargradientcontainer");var k=h("./webkitgradientcontainer");var m=h("./utils").bind;function q(t,u){this.link=null;this.options=t;this.support=u;this.origin=this.getOrigin(window.location.href)}q.prototype.findImages=function(u){var t=[];u.reduce(function(w,v){switch(v.node.nodeName){case"IMG":return w.concat([{args:[v.node.src],method:"url"}]);case"svg":case"IFRAME":return w.concat([{args:[v.node],method:v.node.nodeName}])}return w},[]).forEach(this.addImage(t,this.loadImage),this);return t};q.prototype.findBackgroundImage=function(t,u){u.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(t,this.loadImage),this);return t};q.prototype.addImage=function(t,u){return function(v){v.args.forEach(function(w){if(!this.imageExists(t,w)){t.splice(0,0,u.call(this,v));i("Added image #"+(t.length),typeof(w)==="string"?w.substring(0,100):w)}},this)}};q.prototype.hasImageBackground=function(t){return t.method!=="none"};q.prototype.loadImage=function(u){if(u.method==="url"){var t=u.args[0];if(this.isSVG(t)&&!this.support.svg&&!this.options.allowTaint){return new l(t)}else{if(t.match(/data:image\/.*;base64,/i)){return new p(t.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),false)}else{if(this.isSameOrigin(t)||this.options.allowTaint===true||this.isSVG(t)){return new p(t,false)}else{if(this.support.cors&&!this.options.allowTaint&&this.options.useCORS){return new p(t,true)}else{if(this.options.proxy){return new e(t,this.options.proxy)}else{return new n(t)}}}}}}else{if(u.method==="linear-gradient"){return new r(u)}else{if(u.method==="gradient"){return new k(u)}else{if(u.method==="svg"){return new s(u.args[0],this.support.svg)}else{if(u.method==="IFRAME"){return new g(u.args[0],this.isSameOrigin(u.args[0].src),this.options)}else{return new n(u)}}}}}};q.prototype.isSVG=function(t){return t.substring(t.length-3).toLowerCase()==="svg"||l.prototype.isInline(t)};q.prototype.imageExists=function(t,u){return t.some(function(v){return v.src===u})};q.prototype.isSameOrigin=function(t){return(this.getOrigin(t)===this.origin)};q.prototype.getOrigin=function(t){var u=this.link||(this.link=document.createElement("a"));u.href=t;u.href=u.href;return u.protocol+u.hostname+u.port};q.prototype.getPromise=function(t){return this.timeout(t,this.options.imageTimeout)["catch"](function(){var u=new n(t.src);return u.promise.then(function(v){t.image=v})})};q.prototype.get=function(u){var t=null;return this.images.some(function(v){return(t=v).src===u})?t:null};q.prototype.fetch=function(t){this.images=t.reduce(m(this.findBackgroundImage,this),this.findImages(t));this.images.forEach(function(v,u){v.promise.then(function(){i("Succesfully loaded image #"+(u+1),v)},function(w){i("Failed loading image #"+(u+1),v,w)})});this.ready=o.all(this.images.map(this.getPromise,this));i("Finished searching images");return this};q.prototype.timeout=function(t,u){var w;var v=o.race([t.promise,new o(function(x,y){w=setTimeout(function(){i("Timed out loading image",t);y(t)},u)})]).then(function(x){clearTimeout(w);return x});v["catch"](function(){clearTimeout(w)});return v};f.exports=q},{"./dummyimagecontainer":7,"./framecontainer":10,"./imagecontainer":12,"./lineargradientcontainer":14,"./log":15,"./promise":18,"./proxyimagecontainer":20,"./svgcontainer":26,"./svgnodecontainer":27,"./utils":29,"./webkitgradientcontainer":30}],14:[function(g,h,f){var i=g("./gradientcontainer");var j=g("./color");function e(l){i.apply(this,arguments);this.type=this.TYPES.LINEAR;var k=l.args[0].match(this.stepRegExp)===null;if(k){l.args[0].split(" ").reverse().forEach(function(m){switch(m){case"left":this.x0=0;this.x1=1;break;case"top":this.y0=0;this.y1=1;break;case"right":this.x0=1;this.x1=0;break;case"bottom":this.y0=1;this.y1=0;break;case"to":var o=this.y0;var n=this.x0;this.y0=this.y1;this.x0=this.x1;this.x1=n;this.y1=o;break}},this)}else{this.y0=0;this.y1=1}this.colorStops=l.args.slice(k?1:0).map(function(m){var n=m.match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)|\w+)\s*(\d{1,3})?(%|px)?/);return{color:new j(n[1]),stop:n[3]==="%"?n[2]/100:null}},this);if(this.colorStops[0].stop===null){this.colorStops[0].stop=0}if(this.colorStops[this.colorStops.length-1].stop===null){this.colorStops[this.colorStops.length-1].stop=1}this.colorStops.forEach(function(m,n){if(m.stop===null){this.colorStops.slice(n).some(function(p,o){if(p.stop!==null){m.stop=((p.stop-this.colorStops[n-1].stop)/(o+1))+this.colorStops[n-1].stop;return true}else{return false}},this)}},this)}e.prototype=Object.create(i.prototype);e.prototype.stepRegExp=/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/;h.exports=e},{"./color":5,"./gradientcontainer":11}],15:[function(f,g,e){g.exports=function(){if(window.html2canvas.logging&&window.console&&window.console.log){Function.prototype.bind.call(window.console.log,(window.console)).apply(window.console,[(Date.now()-window.html2canvas.start)+"ms","html2canvas:"].concat([].slice.call(arguments,0)))}}},{}],16:[function(h,g,k){var e=h("./color");var p=h("./utils");var m=p.getBounds;var o=p.parseBackgrounds;var i=p.offsetBounds;function j(t,s){this.node=t;this.parent=s;this.stack=null;this.bounds=null;this.borders=null;this.clip=[];this.backgroundClip=[];this.offsetBounds=null;this.visible=null;this.computedStyles=null;this.colors={};this.styles={};this.backgroundImages=null;this.transformData=null;this.transformMatrix=null;this.isPseudoElement=false;this.opacity=null}j.prototype.cloneTo=function(s){s.visible=this.visible;s.borders=this.borders;s.bounds=this.bounds;s.clip=this.clip;s.backgroundClip=this.backgroundClip;s.computedStyles=this.computedStyles;s.styles=this.styles;s.backgroundImages=this.backgroundImages;s.opacity=this.opacity};j.prototype.getOpacity=function(){return this.opacity===null?(this.opacity=this.cssFloat("opacity")):this.opacity};j.prototype.assignStack=function(s){this.stack=s;s.children.push(this)};j.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:(this.css("display")!=="none"&&this.css("visibility")!=="hidden"&&!this.node.hasAttribute("data-html2canvas-ignore")&&(this.node.nodeName!=="INPUT"||this.node.getAttribute("type")!=="hidden"))};j.prototype.css=function(s){if(!this.computedStyles){this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)}return this.styles[s]||(this.styles[s]=this.computedStyles[s])};j.prototype.prefixedCss=function(s){var u=["webkit","moz","ms","o"];var t=this.css(s);if(t===undefined){u.some(function(v){t=this.css(v+s.substr(0,1).toUpperCase()+s.substr(1));return t!==undefined},this)}return t===undefined?null:t};j.prototype.computedStyle=function(s){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,s)};j.prototype.cssInt=function(s){var t=parseInt(this.css(s),10);return(isNaN(t))?0:t};j.prototype.color=function(s){return this.colors[s]||(this.colors[s]=new e(this.css(s)))};j.prototype.cssFloat=function(s){var t=parseFloat(this.css(s));return(isNaN(t))?0:t};j.prototype.fontWeight=function(){var s=this.css("fontWeight");switch(parseInt(s,10)){case 401:s="bold";break;case 400:s="normal";break}return s};j.prototype.parseClip=function(){var s=this.css("clip").match(this.CLIP);if(s){return{top:parseInt(s[1],10),right:parseInt(s[2],10),bottom:parseInt(s[3],10),left:parseInt(s[4],10)}}return null};j.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=o(this.css("backgroundImage")))};j.prototype.cssList=function(u,s){var t=(this.css(u)||"").split(",");t=t[s||0]||t[0]||"auto";t=t.trim().split(" ");if(t.length===1){t=[t[0],n(t[0])?"auto":t[0]]}return t};j.prototype.parseBackgroundSize=function(y,z,u){var w=this.cssList("backgroundSize",u);var x,s;if(n(w[0])){x=y.width*parseFloat(w[0])/100}else{if(/contain|cover/.test(w[0])){var v=y.width/y.height,t=z.width/z.height;return(v<t^w[0]==="contain")?{width:y.height*t,height:y.height}:{width:y.width,height:y.width/t}}else{x=parseInt(w[0],10)}}if(w[0]==="auto"&&w[1]==="auto"){s=z.height}else{if(w[1]==="auto"){s=x/z.width*z.height}else{if(n(w[1])){s=y.height*parseFloat(w[1])/100}else{s=parseInt(w[1],10)}}}if(w[0]==="auto"){x=s/z.height*z.width}return{width:x,height:s}};j.prototype.parseBackgroundPosition=function(v,y,u,t){var s=this.cssList("backgroundPosition",u);var x,w;if(n(s[0])){x=(v.width-(t||y).width)*(parseFloat(s[0])/100)}else{x=parseInt(s[0],10)}if(s[1]==="auto"){w=x/y.width*y.height}else{if(n(s[1])){w=(v.height-(t||y).height)*parseFloat(s[1])/100}else{w=parseInt(s[1],10)}}if(s[0]==="auto"){x=w/y.height*y.width}return{left:x,top:w}};j.prototype.parseBackgroundRepeat=function(s){return this.cssList("backgroundRepeat",s)[0]};j.prototype.parseTextShadows=function(){var x=this.css("textShadow");var u=[];if(x&&x!=="none"){var w=x.match(this.TEXT_SHADOW_PROPERTY);for(var t=0;w&&(t<w.length);t++){var v=w[t].match(this.TEXT_SHADOW_VALUES);u.push({color:new e(v[0]),offsetX:v[1]?parseFloat(v[1].replace("px","")):0,offsetY:v[2]?parseFloat(v[2].replace("px","")):0,blur:v[3]?v[3].replace("px",""):0})}}return u};j.prototype.parseTransform=function(){if(!this.transformData){if(this.hasTransform()){var t=this.parseBounds();var s=this.prefixedCss("transformOrigin").split(" ").map(f).map(r);s[0]+=t.left;s[1]+=t.top;this.transformData={origin:s,matrix:this.parseTransformMatrix()}}else{this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]}}}return this.transformData};j.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var t=this.prefixedCss("transform");var s=t?q(t.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=s?s:[1,0,0,1,0,0]}return this.transformMatrix};j.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?i(this.node):m(this.node))};j.prototype.hasTransform=function(){return this.parseTransformMatrix().join(",")!=="1,0,0,1,0,0"||(this.parent&&this.parent.hasTransform())};j.prototype.getValue=function(){var s=this.node.value||"";if(this.node.tagName==="SELECT"){s=l(this.node)}else{if(this.node.type==="password"){s=Array(s.length+1).join("\u2022")}}return s.length===0?(this.node.placeholder||""):s};j.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/;j.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;j.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;j.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;function l(t){var s=t.options[t.selectedIndex||0];return s?(s.text||""):""}function q(s){if(s&&s[1]==="matrix"){return s[2].split(",").map(function(u){return parseFloat(u.trim())})}else{if(s&&s[1]==="matrix3d"){var t=s[2].split(",").map(function(u){return parseFloat(u.trim())});return[t[0],t[1],t[4],t[5],t[12],t[13]]}}}function n(s){return s.toString().indexOf("%")!==-1}function f(s){return s.replace("px","")}function r(s){return parseFloat(s)}g.exports=j},{"./color":5,"./utils":29}],17:[function(n,j,V){var s=n("./log");var P=n("punycode");var q=n("./nodecontainer");var U=n("./textcontainer");var i=n("./pseudoelementcontainer");var y=n("./fontmetrics");var A=n("./color");var M=n("./promise");var h=n("./stackingcontext");var ag=n("./utils");var p=ag.bind;var t=ag.getBounds;var Q=ag.parseBackgrounds;var W=ag.offsetBounds;function L(aj,an,al,ah,ai){s("Starting NodeParser");this.renderer=an;this.options=ai;this.range=null;this.support=al;this.renderQueue=[];this.stack=new h(true,1,aj.ownerDocument,null);var ak=new q(aj,null);if(ai.background){an.rectangle(0,0,an.width,an.height,new A(ai.background))}if(aj===aj.ownerDocument.documentElement){var am=new q(ak.color("backgroundColor").isTransparent()?aj.ownerDocument.body:aj.ownerDocument.documentElement,null);an.rectangle(0,0,an.width,an.height,am.color("backgroundColor"))}ak.visibile=ak.isElementVisible();this.createPseudoHideStyles(aj.ownerDocument);this.disableAnimations(aj.ownerDocument);this.nodes=H([ak].concat(this.getChildren(ak)).filter(function(ao){return ao.visible=ao.isElementVisible()}).map(this.getPseudoElements,this));this.fontMetrics=new y();s("Fetched nodes, total:",this.nodes.length);s("Calculate overflow clips");this.calculateOverflowClips();s("Start fetching images");this.images=ah.fetch(this.nodes.filter(ab));this.ready=this.images.ready.then(p(function(){s("Images loaded, starting parsing");s("Creating stacking contexts");this.createStackingContexts();s("Sorting stacking contexts");this.sortStackingContexts(this.stack);this.parse(this.stack);s("Render queue created with "+this.renderQueue.length+" items");return new M(p(function(ao){if(!ai.async){this.renderQueue.forEach(this.paint,this);ao()}else{if(typeof(ai.async)==="function"){ai.async.call(this,this.renderQueue,ao)}else{if(this.renderQueue.length>0){this.renderIndex=0;this.asyncRenderer(this.renderQueue,ao)}else{ao()}}}},this))},this))}L.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(ah){if(ab(ah)){if(f(ah)){ah.appendToDOM()
}ah.borders=this.parseBorders(ah);var aj=(ah.css("overflow")==="hidden")?[ah.borders.clip]:[];var ai=ah.parseClip();if(ai&&["absolute","fixed"].indexOf(ah.css("position"))!==-1){aj.push([["rect",ah.bounds.left+ai.left,ah.bounds.top+ai.top,ai.right-ai.left,ai.bottom-ai.top]])}ah.clip=l(ah)?ah.parent.clip.concat(aj):aj;ah.backgroundClip=(ah.css("overflow")!=="hidden")?ah.clip.concat([ah.borders.clip]):ah.clip;if(f(ah)){ah.cleanDOM()}}else{if(z(ah)){ah.clip=l(ah)?ah.parent.clip:[]}}if(!f(ah)){ah.bounds=null}},this)};function l(ah){return ah.parent&&ah.parent.clip.length}L.prototype.asyncRenderer=function(ah,ai,aj){aj=aj||Date.now();this.paint(ah[this.renderIndex++]);if(ah.length===this.renderIndex){ai()}else{if(aj+20>Date.now()){this.asyncRenderer(ah,ai,aj)}else{setTimeout(p(function(){this.asyncRenderer(ah,ai)},this),0)}}};L.prototype.createPseudoHideStyles=function(ah){this.createStyles(ah,"."+i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }'+"."+i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')};L.prototype.disableAnimations=function(ah){this.createStyles(ah,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; "+"-webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")};L.prototype.createStyles=function(ah,ai){var aj=ah.createElement("style");aj.innerHTML=ai;ah.body.appendChild(aj)};L.prototype.getPseudoElements=function(ah){var ai=[[ah]];if(ah.node.nodeType===Node.ELEMENT_NODE){var aj=this.getPseudoElement(ah,":before");var ak=this.getPseudoElement(ah,":after");if(aj){ai.push(aj)}if(ak){ai.push(ak)}}return H(ai)};function C(ah){return ah.replace(/(\-[a-z])/g,function(ai){return ai.toUpperCase().replace("-","")})}L.prototype.getPseudoElement=function(ai,an){var ah=ai.computedStyle(an);if(!ah||!ah.content||ah.content==="none"||ah.content==="-moz-alt-content"||ah.display==="none"){return null}var al=o(ah.content);var aj=al.substr(0,3)==="url";var am=document.createElement(aj?"img":"html2canvaspseudoelement");var aq=new i(am,ai,an);for(var ak=ah.length-1;ak>=0;ak--){var ao=C(ah.item(ak));am.style[ao]=ah[ao]}am.className=i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(aj){am.src=Q(al)[0].args[0];return[aq]}else{var ap=document.createTextNode(al);am.appendChild(ap);return[aq,new U(ap,aq)]}};L.prototype.getChildren=function(ah){return H([].filter.call(ah.node.childNodes,S).map(function(aj){var ai=[aj.nodeType===Node.TEXT_NODE?new U(aj,ah):new q(aj,ah)].filter(J);return aj.nodeType===Node.ELEMENT_NODE&&ai.length&&aj.tagName!=="TEXTAREA"?(ai[0].isElementVisible()?ai.concat(this.getChildren(ai[0])):[]):ai},this))};L.prototype.newStackingContext=function(aj,ak){var ai=new h(ak,aj.getOpacity(),aj.node,aj.parent);aj.cloneTo(ai);var ah=ak?ai.getParentStack(this):ai.parent.stack;ah.contexts.push(ai);aj.stack=ai};L.prototype.createStackingContexts=function(){this.nodes.forEach(function(ah){if(ab(ah)&&(this.isRootElement(ah)||N(ah)||r(ah)||this.isBodyWithTransparentRoot(ah)||ah.hasTransform())){this.newStackingContext(ah,true)}else{if(ab(ah)&&((aa(ah)&&I(ah))||Z(ah)||O(ah))){this.newStackingContext(ah,false)}else{ah.assignStack(ah.parent.stack)}}},this)};L.prototype.isBodyWithTransparentRoot=function(ah){return ah.node.nodeName==="BODY"&&ah.parent.color("backgroundColor").isTransparent()};L.prototype.isRootElement=function(ah){return ah.parent===null};L.prototype.sortStackingContexts=function(ah){ah.contexts.sort(D(ah.contexts.slice(0)));ah.contexts.forEach(this.sortStackingContexts,this)};L.prototype.parseTextBounds=function(ah){return function(am,ai,an){if(ah.parent.css("textDecoration").substr(0,4)!=="none"||am.trim().length!==0){if(this.support.rangeBounds&&!ah.parent.hasTransform()){var al=an.slice(0,ai).join("").length;return this.getRangeBounds(ah.node,al,am.length)}else{if(ah.node&&typeof(ah.node.data)==="string"){var ak=ah.node.splitText(am.length);var aj=this.getWrapperBounds(ah.node,ah.parent.hasTransform());ah.node=ak;return aj}}}else{if(!this.support.rangeBounds||ah.parent.hasTransform()){ah.node=ah.node.splitText(am.length)}}return{}}};L.prototype.getWrapperBounds=function(al,ah){var am=al.ownerDocument.createElement("html2canvaswrapper");var ai=al.parentNode,ak=al.cloneNode(true);am.appendChild(al.cloneNode(true));ai.replaceChild(am,al);var aj=ah?W(am):t(am);ai.replaceChild(ak,am);return aj};L.prototype.getRangeBounds=function(aj,ak,ai){var ah=this.range||(this.range=aj.ownerDocument.createRange());ah.setStart(aj,ak);ah.setEnd(aj,ak+ai);return ah.getBoundingClientRect()};function ad(){}L.prototype.parse=function(am){var an=am.contexts.filter(e);var aj=am.children.filter(ab);var ak=aj.filter(R(O));var ao=ak.filter(R(aa)).filter(R(v));var al=aj.filter(R(aa)).filter(O);var ah=ak.filter(R(aa)).filter(v);var aq=am.contexts.concat(ak.filter(aa)).filter(I);var ap=am.children.filter(z).filter(x);var ai=am.contexts.filter(E);an.concat(ao).concat(al).concat(ah).concat(aq).concat(ap).concat(ai).forEach(function(ar){this.renderQueue.push(ar);if(B(ar)){this.parse(ar);this.renderQueue.push(new ad())}},this)};L.prototype.paint=function(ah){try{if(ah instanceof ad){this.renderer.ctx.restore()}else{if(z(ah)){if(f(ah.parent)){ah.parent.appendToDOM()}this.paintText(ah);if(f(ah.parent)){ah.parent.cleanDOM()}}else{this.paintNode(ah)}}}catch(ai){s(ai);if(this.options.strict){throw ai}}};L.prototype.paintNode=function(ah){if(B(ah)){this.renderer.setOpacity(ah.opacity);this.renderer.ctx.save();if(ah.hasTransform()){this.renderer.setTransform(ah.parseTransform())}}if(ah.node.nodeName==="INPUT"&&ah.node.type==="checkbox"){this.paintCheckbox(ah)}else{if(ah.node.nodeName==="INPUT"&&ah.node.type==="radio"){this.paintRadio(ah)}else{this.paintElement(ah)}}};L.prototype.paintElement=function(ah){var ai=ah.parseBounds();this.renderer.clip(ah.backgroundClip,function(){this.renderer.renderBackground(ah,ai,ah.borders.borders.map(ac))},this);this.renderer.clip(ah.clip,function(){this.renderer.renderBorders(ah.borders.borders)},this);this.renderer.clip(ah.backgroundClip,function(){switch(ah.node.nodeName){case"svg":case"IFRAME":var aj=this.images.get(ah.node);if(aj){this.renderer.renderImage(ah,ai,ah.borders,aj)}else{s("Error loading <"+ah.node.nodeName+">",ah.node)}break;case"IMG":var ak=this.images.get(ah.node.src);if(ak){this.renderer.renderImage(ah,ai,ah.borders,ak)}else{s("Error loading <img>",ah.node.src)}break;case"CANVAS":this.renderer.renderImage(ah,ai,ah.borders,{image:ah.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(ah);break}},this)};L.prototype.paintCheckbox=function(aj){var ai=aj.parseBounds();var ak=Math.min(ai.width,ai.height);var am={width:ak-1,height:ak-1,top:ai.top,left:ai.left};var al=[3,3];var ah=[al,al,al,al];var ao=[1,1,1,1].map(function(ap){return{color:new A("#A5A5A5"),width:ap}});var an=k(am,ah,ao);this.renderer.clip(aj.backgroundClip,function(){this.renderer.rectangle(am.left+1,am.top+1,am.width-2,am.height-2,new A("#DEDEDE"));this.renderer.renderBorders(G(ao,am,an,ah));if(aj.node.checked){this.renderer.font(new A("#424242"),"normal","normal","bold",(ak-3)+"px","arial");this.renderer.text("\u2714",am.left+ak/6,am.top+ak-1)}},this)};L.prototype.paintRadio=function(ah){var aj=ah.parseBounds();var ai=Math.min(aj.width,aj.height)-2;this.renderer.clip(ah.backgroundClip,function(){this.renderer.circleStroke(aj.left+1,aj.top+1,ai,new A("#DEDEDE"),1,new A("#A5A5A5"));if(ah.node.checked){this.renderer.circle(Math.ceil(aj.left+ai/4)+1,Math.ceil(aj.top+ai/4)+1,Math.floor(ai/2),new A("#424242"))}},this)};L.prototype.paintFormValue=function(ai){var al=ai.getValue();if(al.length>0){var ah=ai.node.ownerDocument;var am=ah.createElement("html2canvaswrapper");var aj=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];aj.forEach(function(an){try{am.style[an]=ai.css(an)}catch(ao){s("html2canvas: Parse: Exception caught in renderFormValue: "+ao.message)}});var ak=ai.parseBounds();am.style.position="fixed";am.style.left=ak.left+"px";am.style.top=ak.top+"px";am.textContent=al;ah.body.appendChild(am);this.paintText(new U(am.firstChild,ai));ah.body.removeChild(am)}};L.prototype.paintText=function(ai){ai.applyTextTransform();var ah=P.ucs2.decode(ai.node.data);var an=(!this.options.letterRendering||K(ai))&&!w(ai.node.data)?X(ah):ah.map(function(ao){return P.ucs2.encode([ao])});var am=ai.parent.fontWeight();var aj=ai.parent.css("fontSize");var ak=ai.parent.css("fontFamily");var al=ai.parent.parseTextShadows();this.renderer.font(ai.parent.color("color"),ai.parent.css("fontStyle"),ai.parent.css("fontVariant"),am,aj,ak);if(al.length){this.renderer.fontShadow(al[0].color,al[0].offsetX,al[0].offsetY,al[0].blur)}else{this.renderer.clearShadow()}this.renderer.clip(ai.parent.clip,function(){an.map(this.parseTextBounds(ai),this).forEach(function(ap,ao){if(ap){this.renderer.text(an[ao],ap.left,ap.bottom);this.renderTextDecoration(ai.parent,ap,this.fontMetrics.getMetrics(ak,aj))}},this)},this)};L.prototype.renderTextDecoration=function(ah,aj,ai){switch(ah.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(aj.left,Math.round(aj.top+ai.baseline+ai.lineWidth),aj.width,1,ah.color("color"));break;case"overline":this.renderer.rectangle(aj.left,Math.round(aj.top),aj.width,1,ah.color("color"));break;case"line-through":this.renderer.rectangle(aj.left,Math.ceil(aj.top+ai.middle+ai.lineWidth),aj.width,1,ah.color("color"));break}};var F={inset:[["darken",0.6],["darken",0.1],["darken",0.1],["darken",0.6]]};L.prototype.parseBorders=function(ai){var aj=ai.parseBounds();var ah=g(ai);var al=["Top","Right","Bottom","Left"].map(function(ao,an){var aq=ai.css("border"+ao+"Style");var am=ai.color("border"+ao+"Color");if(aq==="inset"&&am.isBlack()){am=new A([255,255,255,am.a])}var ap=F[aq]?F[aq][an]:null;return{width:ai.cssInt("border"+ao+"Width"),color:ap?am[ap[0]](ap[1]):am,args:null}});var ak=k(aj,ah,al);return{clip:this.parseBackgroundClip(ai,ak,al,ah,aj),borders:G(al,aj,ak,ah)}};function G(ak,ai,aj,ah){return ak.map(function(am,an){if(am.width>0){var ap=ai.left;var ao=ai.top;var aq=ai.width;var al=ai.height-(ak[2].width);switch(an){case 0:al=ak[0].width;am.args=T({c1:[ap,ao],c2:[ap+aq,ao],c3:[ap+aq-ak[1].width,ao+al],c4:[ap+ak[3].width,ao+al]},ah[0],ah[1],aj.topLeftOuter,aj.topLeftInner,aj.topRightOuter,aj.topRightInner);break;case 1:ap=ai.left+ai.width-(ak[1].width);aq=ak[1].width;am.args=T({c1:[ap+aq,ao],c2:[ap+aq,ao+al+ak[2].width],c3:[ap,ao+al],c4:[ap,ao+ak[0].width]},ah[1],ah[2],aj.topRightOuter,aj.topRightInner,aj.bottomRightOuter,aj.bottomRightInner);break;case 2:ao=(ao+ai.height)-(ak[2].width);al=ak[2].width;am.args=T({c1:[ap+aq,ao+al],c2:[ap,ao+al],c3:[ap+ak[3].width,ao],c4:[ap+aq-ak[3].width,ao]},ah[2],ah[3],aj.bottomRightOuter,aj.bottomRightInner,aj.bottomLeftOuter,aj.bottomLeftInner);break;case 3:aq=ak[3].width;am.args=T({c1:[ap,ao+al+ak[2].width],c2:[ap,ao],c3:[ap+aq,ao+ak[0].width],c4:[ap+aq,ao+al]},ah[3],ah[0],aj.bottomLeftOuter,aj.bottomLeftInner,aj.topLeftOuter,aj.topLeftInner);break}}return am})}L.prototype.parseBackgroundClip=function(ai,am,an,ah,al){var ak=ai.css("backgroundClip"),aj=[];switch(ak){case"content-box":case"padding-box":ae(aj,ah[0],ah[1],am.topLeftInner,am.topRightInner,al.left+an[3].width,al.top+an[0].width);ae(aj,ah[1],ah[2],am.topRightInner,am.bottomRightInner,al.left+al.width-an[1].width,al.top+an[0].width);ae(aj,ah[2],ah[3],am.bottomRightInner,am.bottomLeftInner,al.left+al.width-an[1].width,al.top+al.height-an[2].width);ae(aj,ah[3],ah[0],am.bottomLeftInner,am.topLeftInner,al.left+an[3].width,al.top+al.height-an[2].width);break;default:ae(aj,ah[0],ah[1],am.topLeftOuter,am.topRightOuter,al.left,al.top);ae(aj,ah[1],ah[2],am.topRightOuter,am.bottomRightOuter,al.left+al.width,al.top);ae(aj,ah[2],ah[3],am.bottomRightOuter,am.bottomLeftOuter,al.left+al.width,al.top+al.height);ae(aj,ah[3],ah[0],am.bottomLeftOuter,am.topLeftOuter,al.left,al.top+al.height);break}return aj};function u(ap,ao,al,ak){var an=4*((Math.sqrt(2)-1)/3);var aj=(al)*an,ah=(ak)*an,am=ap+al,ai=ao+ak;return{topLeft:af({x:ap,y:ai},{x:ap,y:ai-ah},{x:am-aj,y:ao},{x:am,y:ao}),topRight:af({x:ap,y:ao},{x:ap+aj,y:ao},{x:am,y:ai-ah},{x:am,y:ai}),bottomRight:af({x:am,y:ao},{x:am,y:ao+ah},{x:ap+aj,y:ai},{x:ap,y:ai}),bottomLeft:af({x:am,y:ai},{x:am-aj,y:ai},{x:ap,y:ao+ah},{x:ap,y:ao})}}function k(ak,ah,aj){var ao=ak.left,al=ak.top,au=ak.width,at=ak.height,av=ah[0][0],an=ah[0][1],ay=ah[1][0],aq=ah[1][1],az=ah[2][0],ar=ah[2][1],ax=ah[3][0],ap=ah[3][1];var am=au-ay,aA=at-ar,ai=au-az,aw=at-ap;return{topLeftOuter:u(ao,al,av,an).topLeft.subdivide(0.5),topLeftInner:u(ao+aj[3].width,al+aj[0].width,Math.max(0,av-aj[3].width),Math.max(0,an-aj[0].width)).topLeft.subdivide(0.5),topRightOuter:u(ao+am,al,ay,aq).topRight.subdivide(0.5),topRightInner:u(ao+Math.min(am,au+aj[3].width),al+aj[0].width,(am>au+aj[3].width)?0:ay-aj[3].width,aq-aj[0].width).topRight.subdivide(0.5),bottomRightOuter:u(ao+ai,al+aA,az,ar).bottomRight.subdivide(0.5),bottomRightInner:u(ao+Math.min(ai,au-aj[3].width),al+Math.min(aA,at+aj[0].width),Math.max(0,az-aj[1].width),ar-aj[2].width).bottomRight.subdivide(0.5),bottomLeftOuter:u(ao,al+aw,ax,ap).bottomLeft.subdivide(0.5),bottomLeftInner:u(ao+aj[3].width,al+aw,Math.max(0,ax-aj[3].width),ap-aj[2].width).bottomLeft.subdivide(0.5)}}function af(al,ak,aj,ah){var ai=function(an,am,ao){return{x:an.x+(am.x-an.x)*ao,y:an.y+(am.y-an.y)*ao}};return{start:al,startControl:ak,endControl:aj,end:ah,subdivide:function(ao){var aq=ai(al,ak,ao),ar=ai(ak,aj,ao),at=ai(aj,ah,ao),ap=ai(aq,ar,ao),am=ai(ar,at,ao),an=ai(ap,am,ao);return[af(al,aq,ap,an),af(an,am,at,ah)]},curveTo:function(am){am.push(["bezierCurve",ak.x,ak.y,aj.x,aj.y,ah.x,ah.y])},curveToReversed:function(am){am.push(["bezierCurve",aj.x,aj.y,ak.x,ak.y,al.x,al.y])}}}function T(an,al,ak,ao,ai,am,ah){var aj=[];if(al[0]>0||al[1]>0){aj.push(["line",ao[1].start.x,ao[1].start.y]);ao[1].curveTo(aj)}else{aj.push(["line",an.c1[0],an.c1[1]])}if(ak[0]>0||ak[1]>0){aj.push(["line",am[0].start.x,am[0].start.y]);am[0].curveTo(aj);aj.push(["line",ah[0].end.x,ah[0].end.y]);ah[0].curveToReversed(aj)}else{aj.push(["line",an.c2[0],an.c2[1]]);aj.push(["line",an.c3[0],an.c3[1]])}if(al[0]>0||al[1]>0){aj.push(["line",ai[1].end.x,ai[1].end.y]);ai[1].curveToReversed(aj)}else{aj.push(["line",an.c4[0],an.c4[1]])}return aj}function ae(al,am,ak,aj,ai,ah,an){if(am[0]>0||am[1]>0){al.push(["line",aj[0].start.x,aj[0].start.y]);aj[0].curveTo(al);aj[1].curveTo(al)}else{al.push(["line",ah,an])}if(ak[0]>0||ak[1]>0){al.push(["line",ai[0].start.x,ai[0].start.y])}}function e(ah){return ah.cssInt("zIndex")<0}function E(ah){return ah.cssInt("zIndex")>0}function I(ah){return ah.cssInt("zIndex")===0}function v(ah){return["inline","inline-block","inline-table"].indexOf(ah.css("display"))!==-1}function B(ah){return(ah instanceof h)}function x(ah){return ah.node.data.trim().length>0}function K(ah){return(/^(normal|none|0px)$/.test(ah.parent.css("letterSpacing")))}function g(ah){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(aj){var ak=ah.css("border"+aj+"Radius");var ai=ak.split(" ");if(ai.length<=1){ai[1]=ai[0]}return ai.map(m)})}function S(ah){return(ah.nodeType===Node.TEXT_NODE||ah.nodeType===Node.ELEMENT_NODE)}function r(ai){var ah=ai.css("position");var aj=(["absolute","relative","fixed"].indexOf(ah)!==-1)?ai.css("zIndex"):"auto";return aj!=="auto"}function aa(ah){return ah.css("position")!=="static"}function O(ah){return ah.css("float")!=="none"}function Z(ah){return["inline-block","inline-table"].indexOf(ah.css("display"))!==-1}function R(ai){var ah=this;return function(){return !ai.apply(ah,arguments)}}function ab(ah){return ah.node.nodeType===Node.ELEMENT_NODE}function f(ah){return ah.isPseudoElement===true}function z(ah){return ah.node.nodeType===Node.TEXT_NODE}function D(ah){return function(aj,ai){return(aj.cssInt("zIndex")+(ah.indexOf(aj)/ah.length))-(ai.cssInt("zIndex")+(ah.indexOf(ai)/ah.length))}}function N(ah){return ah.getOpacity()<1}function m(ah){return parseInt(ah,10)}function ac(ah){return ah.width}function J(ah){return(ah.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(ah.node.nodeName)===-1)}function H(ah){return[].concat.apply([],ah)}function o(ah){var ai=ah.substr(0,1);return(ai===ah.substr(ah.length-1)&&ai.match(/'|"/))?ah.substr(1,ah.length-2):ah}function X(ah){var al=[],ai=0,ak=false,aj;while(ah.length){if(Y(ah[ai])===ak){aj=ah.splice(0,ai);if(aj.length){al.push(P.ucs2.encode(aj))}ak=!ak;ai=0}else{ai++}if(ai>=ah.length){aj=ah.splice(0,ai);if(aj.length){al.push(P.ucs2.encode(aj))}}}return al}function Y(ah){return[32,13,10,9,45].indexOf(ah)!==-1}function w(ah){return(/[^\u0000-\u00ff]/).test(ah)}j.exports=L},{"./color":5,"./fontmetrics":9,"./log":15,"./nodecontainer":16,"./promise":18,"./pseudoelementcontainer":21,"./stackingcontext":24,"./textcontainer":28,"./utils":29,"punycode":3}],18:[function(f,g,e){g.exports=f("es6-promise").Promise},{"es6-promise":1}],19:[function(i,h,l){var p=i("./promise");var o=i("./xhr");var u=i("./utils");var k=i("./log");var t=i("./clone");var n=u.decode64;function m(y,A,w){var v=("withCredentials" in new XMLHttpRequest());if(!A){return p.reject("No proxy configured")}var z=e(v);var x=q(A,y,z);return v?o(x):(r(w,x,z).then(function(B){return n(B.content)}))}var f=0;function g(x,A,v){var z=("crossOrigin" in new Image());var y=e(z);var w=q(A,x,y);return(z?p.resolve(w):r(v,w,y).then(function(B){return"data:"+B.type+";base64,"+B.content}))}function r(v,w,x){return new p(function(B,A){var z=v.createElement("script");var y=function(){delete window.html2canvas.proxy[x];v.body.removeChild(z)};window.html2canvas.proxy[x]=function(C){y();B(C)};z.src=w;z.onerror=function(C){y();A(C)};v.body.appendChild(z)})}function e(v){return !v?"html2canvas_"+Date.now()+"_"+(++f)+"_"+Math.round(Math.random()*100000):""}function q(x,v,w){return x+"?url="+encodeURIComponent(v)+(w.length?"&callback=html2canvas.proxy."+w:"")}function j(v){return function(y){var C=new DOMParser(),B;try{B=C.parseFromString(y,"text/html")}catch(A){k("DOMParser not supported, falling back to createHTMLDocument");B=document.implementation.createHTMLDocument("");try{B.open();B.write(y);B.close()}catch(x){k("createHTMLDocument write not supported, falling back to document.body.innerHTML");B.body.innerHTML=y}}var w=B.querySelector("base");if(!w||!w.href.host){var z=B.createElement("base");z.href=v;B.head.insertBefore(z,B.head.firstChild)}return B}}function s(A,y,w,z,v,x){return new m(A,y,window.document).then(j(A)).then(function(B){return t(B,w,z,v,x,0,0)})}l.Proxy=m;l.ProxyURL=g;l.loadUrlDocument=s},{"./clone":4,"./log":15,"./promise":18,"./utils":29,"./xhr":31}],20:[function(h,i,g){var e=h("./proxy").ProxyURL;var j=h("./promise");function f(n,l){var m=document.createElement("a");m.href=n;n=m.href;this.src=n;this.image=new Image();var k=this;this.promise=new j(function(p,o){k.image.crossOrigin="Anonymous";k.image.onload=p;k.image.onerror=o;new e(n,l,document).then(function(q){k.image.src=q})["catch"](o)})}i.exports=f},{"./promise":18,"./proxy":19}],21:[function(g,h,f){var e=g("./nodecontainer");function i(l,k,j){e.call(this,l,k);this.isPseudoElement=true;this.before=j===":before"}i.prototype.cloneTo=function(j){i.prototype.cloneTo.call(this,j);j.isPseudoElement=true;j.before=this.before};i.prototype=Object.create(e.prototype);i.prototype.appendToDOM=function(){if(this.before){this.parent.node.insertBefore(this.node,this.parent.node.firstChild)}else{this.parent.node.appendChild(this.node)}this.parent.node.className+=" "+this.getHideClass()};i.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node);
this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")};i.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]};i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";h.exports=i},{"./nodecontainer":16}],22:[function(f,g,e){var h=f("./log");function i(n,l,k,m,j){this.width=n;this.height=l;this.images=k;this.options=m;this.document=j}i.prototype.renderImage=function(k,j,r,q){var o=k.cssInt("paddingLeft"),t=k.cssInt("paddingTop"),n=k.cssInt("paddingRight"),m=k.cssInt("paddingBottom"),p=r.borders;var l=j.width-(p[1].width+p[3].width+o+n);var s=j.height-(p[0].width+p[2].width+t+m);this.drawImage(q,0,0,q.image.width||l,q.image.height||s,j.left+o+p[3].width,j.top+t+p[0].width,l,s)};i.prototype.renderBackground=function(j,k,l){if(k.height>0&&k.width>0){this.renderBackgroundColor(j,k);this.renderBackgroundImage(j,k,l)}};i.prototype.renderBackgroundColor=function(j,l){var k=j.color("backgroundColor");if(!k.isTransparent()){this.rectangle(l.left,l.top,l.width,l.height,k)}};i.prototype.renderBorders=function(j){j.forEach(this.renderBorder,this)};i.prototype.renderBorder=function(j){if(!j.color.isTransparent()&&j.args!==null){this.drawShape(j.args,j.color)}};i.prototype.renderBackgroundImage=function(k,l,m){var j=k.parseBackgroundImages();j.reverse().forEach(function(r,o,n){switch(r.method){case"url":var q=this.images.get(r.args[0]);if(q){this.renderBackgroundRepeating(k,l,q,n.length-(o+1),m)}else{h("Error loading background-image",r.args[0])}break;case"linear-gradient":case"gradient":var p=this.images.get(r.value);if(p){this.renderBackgroundGradient(p,l,m)}else{h("Error loading background-image",r.args[0])}break;case"none":break;default:h("Unknown background-image type",r.args[0])}},this)};i.prototype.renderBackgroundRepeating=function(k,o,m,l,q){var n=k.parseBackgroundSize(o,m.image,l);var j=k.parseBackgroundPosition(o,m.image,l,n);var p=k.parseBackgroundRepeat(l);switch(p){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(m,j,n,o,o.left+q[3],o.top+j.top+q[0],99999,n.height,q);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(m,j,n,o,o.left+j.left+q[3],o.top+q[0],n.width,99999,q);break;case"no-repeat":this.backgroundRepeatShape(m,j,n,o,o.left+j.left+q[3],o.top+j.top+q[0],n.width,n.height,q);break;default:this.renderBackgroundRepeat(m,j,n,{top:o.top,left:o.left},q[3],q[0]);break}};g.exports=i},{"./log":15}],23:[function(h,i,g){var l=h("../renderer");var f=h("../lineargradientcontainer");var j=h("../log");function e(n,m){l.apply(this,arguments);this.canvas=this.options.canvas||this.document.createElement("canvas");if(!this.options.canvas){this.canvas.width=n;this.canvas.height=m}this.ctx=this.canvas.getContext("2d");this.taintCtx=this.document.createElement("canvas").getContext("2d");this.ctx.textBaseline="bottom";this.variables={};j("Initialized CanvasRenderer with size",n,"x",m)}e.prototype=Object.create(l.prototype);e.prototype.setFillStyle=function(m){this.ctx.fillStyle=typeof(m)==="object"&&!!m.isColor?m.toString():m;return this.ctx};e.prototype.rectangle=function(q,p,o,m,n){this.setFillStyle(n).fillRect(q,p,o,m)};e.prototype.circle=function(p,o,n,m){this.setFillStyle(m);this.ctx.beginPath();this.ctx.arc(p+n/2,o+n/2,n/2,0,Math.PI*2,true);this.ctx.closePath();this.ctx.fill()};e.prototype.circleStroke=function(r,q,n,m,p,o){this.circle(r,q,n,m);this.ctx.strokeStyle=o.toString();this.ctx.stroke()};e.prototype.drawShape=function(n,m){this.shape(n);this.setFillStyle(m).fill()};e.prototype.taints=function(m){if(m.tainted===null){this.taintCtx.drawImage(m.image,0,0);try{this.taintCtx.getImageData(0,0,1,1);m.tainted=false}catch(n){this.taintCtx=document.createElement("canvas").getContext("2d");m.tainted=true}}return m.tainted};e.prototype.drawImage=function(p,r,q,s,n,u,t,m,o){if(!this.taints(p)||this.options.allowTaint){this.ctx.drawImage(p.image,r,q,s,n,u,t,m,o)}};e.prototype.clip=function(m,o,n){this.ctx.save();m.filter(k).forEach(function(p){this.shape(p).clip()},this);o.call(n);this.ctx.restore()};e.prototype.shape=function(m){this.ctx.beginPath();m.forEach(function(n,o){if(n[0]==="rect"){this.ctx.rect.apply(this.ctx,n.slice(1))}else{this.ctx[(o===0)?"moveTo":n[0]+"To"].apply(this.ctx,n.slice(1))}},this);this.ctx.closePath();return this.ctx};e.prototype.font=function(m,q,o,r,n,p){this.setFillStyle(m).font=[q,o,r,n,p].join(" ").split(",")[0]};e.prototype.fontShadow=function(n,m,p,o){this.setVariable("shadowColor",n.toString()).setVariable("shadowOffsetY",m).setVariable("shadowOffsetX",p).setVariable("shadowBlur",o)};e.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")};e.prototype.setOpacity=function(m){this.ctx.globalAlpha=m};e.prototype.setTransform=function(m){this.ctx.translate(m.origin[0],m.origin[1]);this.ctx.transform.apply(this.ctx,m.matrix);this.ctx.translate(-m.origin[0],-m.origin[1])};e.prototype.setVariable=function(n,m){if(this.variables[n]!==m){this.variables[n]=this.ctx[n]=m}return this};e.prototype.text=function(o,n,m){this.ctx.fillText(o,n,m)};e.prototype.backgroundRepeatShape=function(r,o,v,m,p,s,n,u,t){var q=[["line",Math.round(p),Math.round(s)],["line",Math.round(p+n),Math.round(s)],["line",Math.round(p+n),Math.round(u+s)],["line",Math.round(p),Math.round(u+s)]];this.clip([q],function(){this.renderBackgroundRepeat(r,o,v,m,t[3],t[0])},this)};e.prototype.renderBackgroundRepeat=function(o,n,p,q,r,t){var m=Math.round(q.left+n.left+r),s=Math.round(q.top+n.top+t);this.setFillStyle(this.ctx.createPattern(this.resizeImage(o,p),"repeat"));this.ctx.translate(m,s);this.ctx.fill();this.ctx.translate(-m,-s)};e.prototype.renderBackgroundGradient=function(o,m){if(o instanceof f){var n=this.ctx.createLinearGradient(m.left+m.width*o.x0,m.top+m.height*o.y0,m.left+m.width*o.x1,m.top+m.height*o.y1);o.colorStops.forEach(function(p){n.addColorStop(p.stop,p.color.toString())});this.rectangle(m.left,m.top,m.width,m.height,n)}};e.prototype.resizeImage=function(o,p){var q=o.image;if(q.width===p.width&&q.height===p.height){return q}var m,n=document.createElement("canvas");n.width=p.width;n.height=p.height;m=n.getContext("2d");m.drawImage(q,0,0,q.width,q.height,0,0,p.width,p.height);return n};function k(m){return m.length>0}i.exports=e},{"../lineargradientcontainer":14,"../log":15,"../renderer":22}],24:[function(h,i,g){var e=h("./nodecontainer");function f(l,j,k,m){e.call(this,k,m);this.ownStacking=l;this.contexts=[];this.children=[];this.opacity=(this.parent?this.parent.stack.opacity:1)*j}f.prototype=Object.create(e.prototype);f.prototype.getParentStack=function(k){var j=(this.parent)?this.parent.stack:null;return j?(j.ownStacking?j:j.getParentStack(k)):k.stack};i.exports=f},{"./nodecontainer":16}],25:[function(g,h,f){function e(i){this.rangeBounds=this.testRangeBounds(i);this.cors=this.testCORS();this.svg=this.testSVG()}e.prototype.testRangeBounds=function(i){var k,n,m,j,l=false;if(i.createRange){k=i.createRange();if(k.getBoundingClientRect){n=i.createElement("boundtest");n.style.height="123px";n.style.display="block";i.body.appendChild(n);k.selectNode(n);m=k.getBoundingClientRect();j=m.height;if(j===123){l=true}i.body.removeChild(n)}}return l};e.prototype.testCORS=function(){return typeof((new Image()).crossOrigin)!=="undefined"};e.prototype.testSVG=function(){var j=new Image();var k=document.createElement("canvas");var i=k.getContext("2d");j.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(j,0,0);k.toDataURL()}catch(l){return false}return true};h.exports=e},{}],26:[function(g,h,e){var k=g("./promise");var j=g("./xhr");var f=g("./utils").decode64;function i(m){this.src=m;this.image=null;var l=this;this.promise=this.hasFabric().then(function(){return(l.isInline(m)?k.resolve(l.inlineFormatting(m)):j(m))}).then(function(n){return new k(function(o){window.html2canvas.svg.fabric.loadSVGFromString(n,l.createCanvas.call(l,o))})})}i.prototype.hasFabric=function(){return !window.html2canvas.svg||!window.html2canvas.svg.fabric?k.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg")):k.resolve()};i.prototype.inlineFormatting=function(l){return(/^data:image\/svg\+xml;base64,/.test(l))?this.decode64(this.removeContentType(l)):this.removeContentType(l)};i.prototype.removeContentType=function(l){return l.replace(/^data:image\/svg\+xml(;base64)?,/,"")};i.prototype.isInline=function(l){return(/^data:image\/svg\+xml/i.test(l))};i.prototype.createCanvas=function(m){var l=this;return function(p,o){var n=new window.html2canvas.svg.fabric.StaticCanvas("c");l.image=n.lowerCanvasEl;n.setWidth(o.width).setHeight(o.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(p,o)).renderAll();m(n.lowerCanvasEl)}};i.prototype.decode64=function(l){return(typeof(window.atob)==="function")?window.atob(l):f(l)};h.exports=i},{"./promise":18,"./utils":29,"./xhr":31}],27:[function(f,g,e){var h=f("./svgcontainer");var i=f("./promise");function j(l,m){this.src=l;this.image=null;var k=this;this.promise=m?new i(function(o,n){k.image=new Image();k.image.onload=o;k.image.onerror=n;k.image.src="data:image/svg+xml,"+(new XMLSerializer()).serializeToString(l);if(k.image.complete===true){o(k.image)}}):this.hasFabric().then(function(){return new i(function(n){window.html2canvas.svg.fabric.parseSVGDocument(l,k.createCanvas.call(k,n))})})}j.prototype=Object.create(h.prototype);g.exports=j},{"./promise":18,"./svgcontainer":26}],28:[function(h,j,f){var e=h("./nodecontainer");function g(l,k){e.call(this,l,k)}g.prototype=Object.create(e.prototype);g.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))};g.prototype.transform=function(k){var l=this.node.data;switch(k){case"lowercase":return l.toLowerCase();case"capitalize":return l.replace(/(^|\s|:|-|\(|\))([a-z])/g,i);case"uppercase":return l.toUpperCase();default:return l}};function i(k,n,l){if(k.length>0){return n+l.toUpperCase()}}j.exports=g},{"./nodecontainer":16}],29:[function(f,g,e){e.smallImage=function h(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"};e.bind=function(j,i){return function(){return j.apply(i,arguments)}};e.decode64=function(o){var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var p=o.length,n,l,k,j,u,t,s,r;var m="";for(n=0;n<p;n+=4){l=q.indexOf(o[n]);k=q.indexOf(o[n+1]);j=q.indexOf(o[n+2]);u=q.indexOf(o[n+3]);t=(l<<2)|(k>>4);s=((k&15)<<4)|(j>>2);r=((j&3)<<6)|u;if(j===64){m+=String.fromCharCode(t)}else{if(u===64||u===-1){m+=String.fromCharCode(t,s)}else{m+=String.fromCharCode(t,s,r)}}}return m};e.getBounds=function(j){if(j.getBoundingClientRect){var k=j.getBoundingClientRect();var i=j.offsetWidth==null?k.width:j.offsetWidth;return{top:k.top,bottom:k.bottom||(k.top+k.height),right:k.left+i,left:k.left,width:i,height:j.offsetHeight==null?k.height:j.offsetHeight}}return{}};e.offsetBounds=function(j){var i=j.offsetParent?e.offsetBounds(j.offsetParent):{top:0,left:0};return{top:j.offsetTop+i.top,bottom:j.offsetTop+j.offsetHeight+i.top,right:j.offsetLeft+i.left+j.offsetWidth,left:j.offsetLeft+i.left,width:j.offsetWidth,height:j.offsetHeight}};e.parseBackgrounds=function(r){var k=" \r\n\t",j,l,p,u,m,n=[],o=0,s=0,i,q;var t=function(){if(j){if(l.substr(0,1)==='"'){l=l.substr(1,l.length-2)}if(l){q.push(l)}if(j.substr(0,1)==="-"&&(u=j.indexOf("-",1)+1)>0){p=j.substr(0,u);j=j.substr(u)}n.push({prefix:p,method:j.toLowerCase(),value:m,args:q,image:null})}q=[];j=p=l=m=""};q=[];j=p=l=m="";r.split("").forEach(function(v){if(o===0&&k.indexOf(v)>-1){return}switch(v){case'"':if(!i){i=v}else{if(i===v){i=null}}break;case"(":if(i){break}else{if(o===0){o=1;m+=v;return}else{s++}}break;case")":if(i){break}else{if(o===1){if(s===0){o=0;m+=v;t();return}else{s--}}}break;case",":if(i){break}else{if(o===0){t();return}else{if(o===1){if(s===0&&!j.match(/^url$/i)){q.push(l);l="";m+=v;return}}}}break}m+=v;if(o===0){j+=v}else{l+=v}});t();return n}},{}],30:[function(f,h,e){var i=f("./gradientcontainer");function g(j){i.apply(this,arguments);this.type=(j.args[0]==="linear")?this.TYPES.LINEAR:this.TYPES.RADIAL}g.prototype=Object.create(i.prototype);h.exports=g},{"./gradientcontainer":11}],31:[function(f,g,e){var i=f("./promise");function h(j){return new i(function(l,k){var m=new XMLHttpRequest();m.open("GET",j);m.onload=function(){if(m.status===200){l(m.responseText)}else{k(new Error(m.statusText))}};m.onerror=function(){k(new Error("Network Error"))};m.send()})}g.exports=h},{"./promise":18}]},{},[6])(6)});
